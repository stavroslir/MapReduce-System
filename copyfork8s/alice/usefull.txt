Deploy Alice:

kubectl apply -f alice.yaml


Exec in the pod(to test):
kubectl exec -it alice -- /bin/sh

Curl command example:

login as admin:
    curl -X POST -H "Content-Type: application/json" -d '{"username":"admin", "password":"adminpassword"}' http://ui-service:80/login

Create a user:
    curl -X POST http://ui-service:80/register -H "Content-Type: application/json" -H "x-access-tokens: eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJhZG1pbiIsImVtYWlsIjoiYWRtaW5AZXhhbXBsZS5jb20iLCJpYXQiOjE2ODc4NTI5NjIsImV4cCI6MTY4Nzg1NDc2Mn0.enDmdF5FZNaJM5dnbbSYqyLYguAzExWSb-5i_oQbcP0" -d '{"username": "new_user", "password": "new_password", "email": "new_user@example.com", "role": "user"}'

Login as the new user: 
    curl -X POST http://ui-service:80/login -H "Content-Type: application/json" -d '{"username": "new_user", "password": "new_password"}'

View jobs:
    curl -X GET http://ui-service:80/view_jobs -H "Content-Type: application/json" -H "x-access-tokens: eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJhZG1pbiIsImVtYWlsIjoiYWRtaW5AZXhhbXBsZS5jb20iLCJpYXQiOjE2ODc4NTI5NjIsImV4cCI6MTY4Nzg1NDc2Mn0.enDmdF5FZNaJM5dnbbSYqyLYguAzExWSb-5i_oQbcP0" 

Submit a job as a new user:
    curl -X POST http://ui-service:80/submit_job -H "Content-Type: application/json" -H "x-access-tokens: eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJhZG1pbiIsImVtYWlsIjoiYWRtaW5AZXhhbXBsZS5jb20iLCJpYXQiOjE2ODc4NTI5NjIsImV4cCI6MTY4Nzg1NDc2Mn0.enDmdF5FZNaJM5dnbbSYqyLYguAzExWSb-5i_oQbcP0" -d '{"task_type": "MAP", "user_id":"1","job_description": "Test", "input_path": "/app/test", "output_path": "/app/out.txt"}'
